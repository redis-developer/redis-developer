<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-create/openshift/index-openshift">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">How to deploy Redis Enterprise on Red Hat OpenShift Container Platform via OperatorHub | The Home of Redis Developers</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.redis.com/img/redis-hero-image.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.redis.com/img/redis-hero-image.jpg"><meta data-rh="true" property="og:url" content="https://developer.redis.com/create/openshift"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to deploy Redis Enterprise on Red Hat OpenShift Container Platform via OperatorHub | The Home of Redis Developers"><meta data-rh="true" name="description" content="Deploying and managing containerized applications is not easy. The rise of microservice architecture has made it cumbersome to deploy containers across multiple environments. Given that containers can be spun up in seconds and at a much higher volume compared to VMs, managing containers across multiple platforms can be extremely challenging."><meta data-rh="true" property="og:description" content="Deploying and managing containerized applications is not easy. The rise of microservice architecture has made it cumbersome to deploy containers across multiple environments. Given that containers can be spun up in seconds and at a much higher volume compared to VMs, managing containers across multiple platforms can be extremely challenging."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://developer.redis.com/create/openshift"><link data-rh="true" rel="alternate" href="https://developer.redis.com/create/openshift" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.redis.com/create/openshift" hreflang="x-default"><script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.b5561ee1.css">
<link rel="preload" href="/assets/js/runtime~main.31923179.js" as="script">
<link rel="preload" href="/assets/js/main.d3d68f51.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:rgb(210, 215, 254);color:rgb(22 31 49)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><div class="announcement-bar"><a href="https://redis.com/blog/introducing-redis-7-2/" target="_blank" rel="noopener"><span>Announcing Redis 7.2 and Enhanced Vector DB</span> <span style="margin-left:1rem">Learn more</span> <span style="margin-left:0.25rem">→</span></a></div></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div></div><a class="navbar__item navbar__link" href="/howtos/quick-start">Get started</a><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Redis Launchpad<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to deploy Redis Enterprise on Red Hat OpenShift Container Platform via OperatorHub</h1></header><div class="docAuthors"><hr><div class="authorByline_VoxI"><img class="authorProfileImage_URwT" src="/img/profile_pic_karan_singh.png" alt="Profile picture for Karan Singh"><div><div class="authorLabel_a70t">Author:</div><div><a href="https://www.linkedin.com/in/karansingh7" target="_blank">Karan Singh</a>, <!-- -->Senior Principal Architect &amp; Developer Evangelist at Red Hat</div></div></div><div class="authorByline_VoxI"><img class="authorProfileImage_URwT" src="/img/profile_pic_sumit_shatwara.jpeg" alt="Profile picture for Sumit Shatwara"><div><div class="authorLabel_a70t">Author:</div><div><a href="https://www.linkedin.com/in/sumitshatwara" target="_blank">Sumit Shatwara</a>, <!-- -->Solution Architect at Redis</div></div></div><div class="authorByline_VoxI"><img class="authorProfileImage_URwT" src="/img/profile_pic_ajeet_raina.jpg" alt="Profile picture for Ajeet Raina"><div><div class="authorLabel_a70t">Author:</div><div><a href="https://twitter.com/ajeetsraina" target="_blank">Ajeet Raina</a>, <!-- -->Former Developer Growth Manager at Redis</div></div></div><hr></div><p>Deploying and managing containerized applications is not easy. The rise of microservice architecture has made it cumbersome to deploy containers across multiple environments. Given that containers can be spun up in seconds and at a much higher volume compared to VMs, managing containers across multiple platforms can be extremely challenging.</p><p><a href="https://www.redhat.com/en/technologies/cloud-computing/openshift/kubernetes-engine" target="_blank" rel="noopener noreferrer">Red Hat OpenShift</a> to the rescue! OpenShift, the leading enterprise Kubernetes platform, enables a cloud-like experience wherever it’s deployed—in the cloud, on premises, or at the edge. OpenShift is built upon Kubernetes, which is designed and built from the ground up to deploy and manage containerized applications across hundreds of compute nodes.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-is-openshift">What is OpenShift?<a class="hash-link" href="#what-is-openshift" title="Direct link to heading">​</a></h3><p><a href="https://www.redhat.com/en/technologies/cloud-computing/openshift" target="_blank" rel="noopener noreferrer">Red Hat OpenShift</a> gives you the ability to choose where you build, deploy, and run applications, providing a consistent experience every time. OpenShift’s full-stack automated operations and self-service provisioning for developers lets teams work together more efficiently to move ideas from development to production.</p><p>OpenShift <a href="https://www.redhat.com/en/technologies/cloud-computing/openshift/developers" target="_blank" rel="noopener noreferrer">focuses on developer experience</a> and application security that’s platform agnostic. OpenShift helps you develop and deploy applications to one or more hosts, which can be public-facing web applications or backend applications, including microservices or databases. Applications can be implemented in any programming language you choose; the only requirement is that the application can run within a container.</p><p><a href="https://www.redhat.com/en/technologies/cloud-computing/openshift/container-platform" target="_blank" rel="noopener noreferrer">OpenShift Container Platform (OCP)</a> is a set of modular components and services built on top of Red Hat Enterprise Linux and Kubernetes. OpenShift supports remote management, multitenancy, increased security, application lifecycle management, and provides self-service interfaces for developers.</p><p><img loading="lazy" alt="Image" src="/assets/images/architecture-5cf1737cb5c903144bc959bb9418c23f.png" width="631" height="377" class="img_ev3q"></p><p>While OpenShift is built on Kubernetes, it extends the open source platform in several ways to make it suitable for enterprise operations teams:
Automated installation and operations for platform updates on the container host, the Kubernetes cluster, and application services
A consistent Kubernetes platform portable across different infrastructures and clouds
Built-in cluster and application monitoring using Prometheus and Grafana dashboards
Centralized policy management and enforcement across clusters
Built-in security checks for the entire container stack throughout the application life cycle</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="supported-technologies">Supported Technologies<a class="hash-link" href="#supported-technologies" title="Direct link to heading">​</a></h3><p>OpenShift is fully pluggable and works with a wide range of technologies, including languages such as .NET, Java, Node.js, PHP, Python, Ruby, GoLang, and Perl as well as databases such as MariaDB, MongoDB, MySQL, PostgreSQL, and Redis. In addition, OpenShift is certified with and supports 100+ independent software vendors, including Redis Enterprise.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-is-operatorhub">What is OperatorHub?<a class="hash-link" href="#what-is-operatorhub" title="Direct link to heading">​</a></h3><p>OperatorHub is the web console interface in OpenShift Container Platform that cluster administrators use to discover, install, and manage operators. In a few clicks, users can subscribe to the software they like via operators and make it available to software developers and platform administrators across clusters or isolated namespace environments using Operator Lifecycle Manager (OLM).</p><p>In this tutorial, you will learn how to deploy Redis Enterprise Cluster and Database on OpenShift using Redis Enterprise Kubernetes Operator.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pre-requisites">Pre-requisites:<a class="hash-link" href="#pre-requisites" title="Direct link to heading">​</a></h3><p>To follow this guide, you should have an OpenShift cluster with 3 or more worker nodes. There are multiple ways to provision an OpenShift cluster, <a href="https://docs.openshift.com/container-platform/4.9/installing/index.html" target="_blank" rel="noopener noreferrer">you can follow the installation guide</a> based on your preferred infrastructure or cloud provider. Redis Enterprise Operator currently supports OpenShift 3.11 and OpenShift 4.x. <a href="https://docs.redis.com/latest/kubernetes/reference/supported_k8s_distributions/" target="_blank" rel="noopener noreferrer">Visit this page</a> to find all the supported Kubernetes distributions.</p><p>In this guide we are using a self-managed OpenShift Cluster on Google Cloud Platform.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-login-to-red-hat-openshift-container-platformocp">Step 1. Login to Red Hat Openshift Container Platform(OCP)<a class="hash-link" href="#step-1-login-to-red-hat-openshift-container-platformocp" title="Direct link to heading">​</a></h3><p>You can login to OCP via CLI and user with cluster-admin role.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ oc login</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Authentication required for https://api.sumit.openshift.demo.redislabs.com:6443 (openshift)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Username:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Password:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Login successful.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You have access to 68 projects, the list has been suppressed. You can list all projects with &#x27;oc projects&#x27;.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-verify-the-status-of-nodes">Step 2. Verify the status of nodes<a class="hash-link" href="#step-2-verify-the-status-of-nodes" title="Direct link to heading">​</a></h3><p>Ensure that all the nodes should be in “Ready” status.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ oc get nodes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                 STATUS   ROLES          AGE    VERSION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-infra-b-h28tc    Ready    infra,worker   86m    v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-infra-b-wrfgg    Ready    infra,worker   85m    v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-master-0         Ready    master         103m   v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-master-1         Ready    master         103m   v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-master-2         Ready    master         103m   v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-worker-b-6jwx2   Ready    worker         97m    v1.22.3+e790d7f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">demoopenshift-9x5xq-worker-b-9pxhd   Ready    worker         95m    v1.22.3+e790d7f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-create-a-new-project">Step 3. Create a New Project<a class="hash-link" href="#step-3-create-a-new-project" title="Direct link to heading">​</a></h3><p>Redis Enterprise can only be deployed in an user’s custom project. Hence, let us create a new project.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ oc new-project myproject</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Now using project &quot;myproject&quot; on server &quot;https://api.sumit.openshift.demo.redislabs.com:6443&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">You can add applications to this project with the &#x27;new-app&#x27; command. For example, try:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    oc new-app ruby~https://github.com/sclorg/ruby-ex.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-clone-the-redis-enterprise-on-kubernetes-github-repository">Step 4. Clone the Redis Enterprise on Kubernetes Github repository<a class="hash-link" href="#step-4-clone-the-redis-enterprise-on-kubernetes-github-repository" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ git clone https://github.com/RedisLabs/redis-enterprise-k8s-docs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd redis-enterprise-k8s-docs/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-apply-the-scc-configuration">Step 5. Apply the SCC configuration<a class="hash-link" href="#step-5-apply-the-scc-configuration" title="Direct link to heading">​</a></h3><p>The SCC <a href="https://docs.openshift.com/container-platform/4.8/authentication/managing-security-context-constraints.html" target="_blank" rel="noopener noreferrer">(security context constraint)</a> YAML defines security context constraints for the cluster for our project. This is composed of custom security settings and strategies that will provide access to the Redis Enterprise Operator and Cluster Pods to run on OpenShift. We strongly recommend that you not change anything in this YAML file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: SecurityContextConstraints</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: security.openshift.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: redis-enterprise-scc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">allowPrivilegedContainer: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">allowedCapabilities:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - SYS_RESOURCE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">runAsUser:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type: MustRunAs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  uid: 1001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FSGroup:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type: MustRunAs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ranges: 1001,1001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">seLinuxContext:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type: RunAsAny</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Apply the configuration to a resource by filename “scc.yaml” which is available in “openshift” folder as shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $  oc apply -f scc.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> securitycontextconstraints.security.openshift.io/redis-enterprise-scc configured</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-provide-the-operator-permissions-for-redis-enterprise-operator-and-cluster-pods">Step 6. Provide the operator permissions for Redis Enterprise Operator and Cluster pods<a class="hash-link" href="#step-6-provide-the-operator-permissions-for-redis-enterprise-operator-and-cluster-pods" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $ oc adm policy add-scc-to-user redis-enterprise-scc system:serviceaccount:myproject:redis-enterprise-operator</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $ oc adm policy add-scc-to-user redis-enterprise-scc system:serviceaccount:myproject:rec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-7-deploy-redis-enterprise-operator">Step 7. Deploy Redis Enterprise Operator<a class="hash-link" href="#step-7-deploy-redis-enterprise-operator" title="Direct link to heading">​</a></h3><p>If you want to perform this operation via UI, follow the below steps:</p><p>Login to OpenShift console with admin privileges.</p><p><img loading="lazy" alt="image" src="/assets/images/image_login-b4a0ee93495e37c6287d6b9c5b2dab04.png" width="1236" height="712" class="img_ev3q"></p><p>Click on “OperatorHub” under Operators section.</p><p><img loading="lazy" alt="image" src="/assets/images/image_03-56d3f8ad3be23376702d5f98463ead46.png" width="990" height="1252" class="img_ev3q"></p><p>This will open up a list of operators with various categories. Search for “Redis” and click “Redis Enterprise” (the one without the “Marketplace” tag) to proceed.</p><p><img loading="lazy" alt="image" src="/assets/images/image_04-b41cf514b3516ac74403520912c29f5a.png" width="1272" height="922" class="img_ev3q"></p><p>Click “Install” to start the installation process and then select the required channel, namespace and approval strategy in the next screen.</p><p><img loading="lazy" alt="image" src="/assets/images/image_05-7ce589944397942b6c898595e18dc844.png" width="1396" height="794" class="img_ev3q"></p><p>Wait for the installation to be completed.</p><p><img loading="lazy" alt="image" src="/assets/images/installed_operators-aad3bc68c1aa2c47896c395bc53e47cb.png" width="1430" height="508" class="img_ev3q"></p><p>Click on “Events” to see the streaming events in order to troubleshoot or check the progress of the installation.</p><p><img loading="lazy" alt="image" src="/assets/images/streaming_events-43510bdc97bf40d65edb6070359db0cd.png" width="1412" height="902" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-8-create-redis-enterprise-cluster">Step 8. Create Redis Enterprise Cluster<a class="hash-link" href="#step-8-create-redis-enterprise-cluster" title="Direct link to heading">​</a></h3><p>Once Redis Enterprise Operator is installed, create a Redis Enterprise Cluster instance using RedisEnterpriseCluster (REC) custom resource.</p><p>RedisEnterpriseCluster is the schema for the redisenterpriseclusters API. From the installed Redis Enterprise Operator, click on “Create RedisEnterpriseCluster&#x27;&#x27; and click on “YAML” section, then paste the sample YAML file below:</p><p><img loading="lazy" alt="image" src="/assets/images/create_rec-6dba2c57602ae13de821cc057e87f9e7.png" width="1452" height="416" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: app.redislabs.com/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: RedisEnterpriseCluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: rec</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  namespace: myproject</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  redisEnterpriseNodeResources:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    limits:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      cpu: 4000m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      memory: 4Gi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    requests:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      cpu: 4000m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      memory: 4Gi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  persistentSpec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    enabled: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    storageClassName: standard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  redisEnterpriseImageSpec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    imagePullPolicy: IfNotPresent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    repository: redislabs/redis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    versionTag: 6.2.8-64.rhel7-openshift</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  servicesRiggerSpec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    databaseServiceType: load_balancer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    serviceNaming: redis-port</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nodes: 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  uiServiceType: LoadBalancer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  username: demo@redis.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For configuring any additional parameters for the Redis Enterprise Cluster custom resource, <a href="https://github.com/RedisLabs/redis-enterprise-k8s-docs/blob/master/redis_enterprise_cluster_api.md" target="_blank" rel="noopener noreferrer">visit this page</a>.</p><p>Wait until the status shows “Succeeded” under Redis Enterprise Operator.</p><p><img loading="lazy" alt="image" src="/assets/images/succeeded-d8188451d46193eaae9291fe396c51da.png" width="1410" height="386" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-9-access-redis-enterprise-cluster-admin-console">Step 9. Access Redis Enterprise Cluster Admin Console<a class="hash-link" href="#step-9-access-redis-enterprise-cluster-admin-console" title="Direct link to heading">​</a></h3><p>To access the Redis Enterprise Cluster admin console, you will need credentials. Follow the steps below to get the credentials via “rec” secret resource.</p><p><img loading="lazy" alt="image" src="/assets/images/ocp-cad019a1f147603df99802b100561159.png" width="1254" height="1360" class="img_ev3q"></p><p>Under the &quot;Data&quot; section, you can reveal username and password.</p><p>Next, Click on “Services” and choose “rec-ui” under the services list.</p><p><img loading="lazy" alt="image" src="/assets/images/recui-da0cb910d5f26298f52c62909c70134b.png" width="1254" height="906" class="img_ev3q"></p><p>Click on &quot;Services&quot; and look for External Load-balancer IP.</p><p><img loading="lazy" alt="image" src="/assets/images/loadbalancer-f9689c003727dadde864a7b6d6f04cd0.png" width="1402" height="926" class="img_ev3q"></p><p>Step 10. From the web browser, access the rec-ui external IP http://IP:8443 to access the Redis Enterprise Cluster Admin Console.</p><p><img loading="lazy" alt="image" src="/assets/images/re1-7e0fd1324f6d37b25347b6bba7f2cf49.png" width="918" height="962" class="img_ev3q"></p><p>To log into Redis Enterprise Cluster, use the credentials that you extracted above. By now, you should be able to see three nodes of the Redis Enterprise cluster.</p><p><img loading="lazy" alt="image" src="/assets/images/re2-2b68c422779c76ef2dd75c33325a9d71.png" width="1396" height="752" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-11-create-redis-enterprise-database">Step 11. Create Redis Enterprise Database<a class="hash-link" href="#step-11-create-redis-enterprise-database" title="Direct link to heading">​</a></h3><p>RedisEnterpriseDatabase is the schema for the redisenterprisedatabases API. To create REDB, navigate to Installed Operator &gt; Redis Enterprise Operator &gt; Redis Enterprise Database and click “Create RedisEnterpriseDatabase” to start the creation process using REDB custom resource. You can click on “YAML” and paste the sample YAML file below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: app.redislabs.com/v1alpha1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: RedisEnterpriseDatabase</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: redb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  namespace: myproject</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  redisEnterpriseCluster:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name: rec</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memorySize: 1GB</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tlsMode: enabled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For configuring any additional parameters for the Redis Enterprise Database custom resource, <a href="https://github.com/RedisLabs/redis-enterprise-k8s-docs/blob/master/redis_enterprise_database_api.md" target="_blank" rel="noopener noreferrer">visit this page</a>.</p><p>Once the REDB creation is done, you should see the status as “active”.</p><p><img loading="lazy" alt="Image" src="/assets/images/re3-7567eb26b21e2c9d8f2d0493979a43be.png" width="1418" height="628" class="img_ev3q"></p><p>Finally, navigate to Redis Enterprise Cluster admin console to verify if Redis Enterprise database is created or not.</p><p><img loading="lazy" alt="Image" src="/assets/images/navigate-6348ece0b0a70fae0ad1a2d81e6d942e.png" width="702" height="280" class="img_ev3q"></p><p>Click on the newly created database and then click on configuration option to see the overall details.</p><p><img loading="lazy" alt="Image" src="/assets/images/re6-26d19677fdec5f640e1c7a48400d280c.png" width="1294" height="1180" class="img_ev3q"></p><p>Navigate back to the OpenShift console and verify the service object created for the Redis Database.</p><p><img loading="lazy" alt="Image" src="/assets/images/re7-044f1f0670adc0c927e6c6884ea4d9c0.png" width="1374" height="598" class="img_ev3q"></p><p>Select “Routes” from the left-hand column and create a new route object for this database service with the sample YAML file below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: Route</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: route.openshift.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> name: redb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> labels:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   app: redis-enterprise</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   redis.io/cluster: rec</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> host: redb-re-test.apps.sumit.openshift.demo.redislabs.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> to:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   kind: Service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   name: redis-12119-load-balancer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   weight: 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> port:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   targetPort: redis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   termination: passthrough</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   insecureEdgeTerminationPolicy: None</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note the Host name &#x27;my-db-hostname&#x27; from the created route object.</p><p><img loading="lazy" alt="image" src="/assets/images/reservices-09b020678b668e9ec6e570e32ccc820d.png" width="1400" height="604" class="img_ev3q"></p><p>Note the database password &quot;my-db-password&quot; from the database secret object with name “db-name-redb”.</p><p><img loading="lazy" alt="image" src="/assets/images/re9-e5a9d8e169609a7cf50eb58e0392edf2.png" width="1332" height="642" class="img_ev3q"></p><p>Get the default CA certificate from the redis-enterprise-node container on any of the Redis Enterprise pods and paste the output in a file called “proxy_cert.pem”.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ oc exec -it &lt;pod-name&gt; -c redis-enterprise-node -- cat \ /etc/opt/redislabs/proxy_cert.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run the following openssl command, substituting your own values for &#x27;my-db-hostname&#x27;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$  openssl s_client -connect &lt;my-db-hostname&gt;:443 -crlf \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> -CAfile ./proxy_cert.pem -servername &lt;my-db-hostname&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Authorize the database with the password and enter the ping command. If you are connected to the database, you will receive PONG back, as shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Verify return code: 0 (ok)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ---</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> auth &#x27;my-db-password&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> +OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> PING</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> +PONG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can use the code below to test your access with Python, substituting your own values for &#x27;my-db-hostname&#x27; and &#x27;file-path&#x27;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> import redis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> try:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    r = redis.StrictRedis(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    host=&#x27;my-db-hostname&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port=443,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password=&#x27;my-db-password&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl=True,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_ca_certs=&#x27;file-path&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print (r.info())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #test the connection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(&#x27;Testing redis by setting a key and value..&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    r.set(&#x27;hello&#x27;, &#x27;world&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    value = r.get(&#x27;hello&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> except Exception as e:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print (e)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output should look something like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&#x27;redis_version&#x27;: &#x27;6.0.13&#x27;, &#x27;redis_git_sha1&#x27;: 0, &#x27;redis_git_dirty&#x27;: 0, &#x27;redis_build_id&#x27;: 0, &#x27;redis_mode&#x27;: &#x27;standalone&#x27;, &#x27;os&#x27;: &#x27;Linux 4.18.0-305.30.1.el8_4.x86_64 x86_64&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Testing redis by setting a key and value..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b&#x27;world&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In our next tutorial, we will learn how to deploy a sample Real-time chat application powered by Go and Redis on OpenShift.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References:<a class="hash-link" href="#references" title="Direct link to heading">​</a></h3><ul><li><a href="https://docs.redis.com/latest/kubernetes/deployment/openshift/" target="_blank" rel="noopener noreferrer">Deploy Redis Enterprise Software on Kubernetes with OpenShift</a></li><li><a href="https://docs.openshift.com/" target="_blank" rel="noopener noreferrer">Official OpenShift Documentation</a></li><li><a href="https://docs.openshift.com/container-platform/4.7/installing/installing_gcp/installing-gcp-default.html" target="_blank" rel="noopener noreferrer">Install a Cluster quickly on GCP</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/create/openshift/index-openshift.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-11-07T16:30:31.000Z">Nov 7, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-openshift" class="table-of-contents__link toc-highlight">What is OpenShift?</a></li><li><a href="#supported-technologies" class="table-of-contents__link toc-highlight">Supported Technologies</a></li><li><a href="#what-is-operatorhub" class="table-of-contents__link toc-highlight">What is OperatorHub?</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites:</a></li><li><a href="#step-1-login-to-red-hat-openshift-container-platformocp" class="table-of-contents__link toc-highlight">Step 1. Login to Red Hat Openshift Container Platform(OCP)</a></li><li><a href="#step-2-verify-the-status-of-nodes" class="table-of-contents__link toc-highlight">Step 2. Verify the status of nodes</a></li><li><a href="#step-3-create-a-new-project" class="table-of-contents__link toc-highlight">Step 3. Create a New Project</a></li><li><a href="#step-4-clone-the-redis-enterprise-on-kubernetes-github-repository" class="table-of-contents__link toc-highlight">Step 4. Clone the Redis Enterprise on Kubernetes Github repository</a></li><li><a href="#step-5-apply-the-scc-configuration" class="table-of-contents__link toc-highlight">Step 5. Apply the SCC configuration</a></li><li><a href="#step-6-provide-the-operator-permissions-for-redis-enterprise-operator-and-cluster-pods" class="table-of-contents__link toc-highlight">Step 6. Provide the operator permissions for Redis Enterprise Operator and Cluster pods</a></li><li><a href="#step-7-deploy-redis-enterprise-operator" class="table-of-contents__link toc-highlight">Step 7. Deploy Redis Enterprise Operator</a></li><li><a href="#step-8-create-redis-enterprise-cluster" class="table-of-contents__link toc-highlight">Step 8. Create Redis Enterprise Cluster</a></li><li><a href="#step-9-access-redis-enterprise-cluster-admin-console" class="table-of-contents__link toc-highlight">Step 9. Access Redis Enterprise Cluster Admin Console</a></li><li><a href="#step-11-create-redis-enterprise-database" class="table-of-contents__link toc-highlight">Step 11. Create Redis Enterprise Database</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redis.com/" target="_blank" rel="noopener" class="footerLogoLink_fGS1"><img loading="lazy" class="footer__logo" alt="Redis logo" src="/img/redis_logo_red_white_rgb.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a href="https://redis.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redis.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redis.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis Commands</a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=redis" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: © 2024 Redis. All rights reserved. Redis and the cube logo are registered trademarks of Redis Ltd.</div></div></footer></div>
<script src="/assets/js/runtime~main.31923179.js"></script>
<script src="/assets/js/main.d3d68f51.js"></script>
</body>
</html>